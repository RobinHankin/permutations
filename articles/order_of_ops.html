<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>The permutation group: active and passive permutations, and the order of operations • permutations</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="The permutation group: active and passive permutations, and the order of operations">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">permutations</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1-6</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/cyclist.html">Cyclists in the `permutations` package</a></li>
    <li><a class="dropdown-item" href="../articles/groupaction.html">Function `as.function.permutation()` in the permutations package: group actions</a></li>
    <li><a class="dropdown-item" href="../articles/order_of_ops.html">The permutation group: active and passive permutations, and the order of operations</a></li>
    <li><a class="dropdown-item" href="../articles/print.html">Print methods in the permutations package</a></li>
    <li><a class="dropdown-item" href="../articles/representation.html">The permutations package and representation theory</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/RobinHankin/permutations/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>The permutation group: active and passive permutations, and the order of operations</h1>
                        <h4 data-toc-skip class="author">Robin K. S.
Hankin</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/RobinHankin/permutations/blob/master/vignettes/order_of_ops.Rmd" class="external-link"><code>vignettes/order_of_ops.Rmd</code></a></small>
      <div class="d-none name"><code>order_of_ops.Rmd</code></div>
    </div>

    
    
<p><img src="..%2F..%2F..%2F_temp%2FLibrary%2Fpermutations%2Fhelp%2Ffigures%2Fpermutations.png" width="20%" style="float:right; padding:10px"></p>
<p>To cite the permutations package in publications, please use <span class="citation">Hankin (2020)</span>. When considering permutation
groups, the order of operations can be confusing. Here I discuss active
and passive transforms, order of operations, prefix and postfix
notation, and associativity from the perspective of the
<code>permutations</code> R package.</p>
<p>Consider the following:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">a</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/permutation.html">as.cycle</a></span><span class="op">(</span><span class="st">"(145)(26)"</span><span class="op">)</span></span>
<span><span class="va">a</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] (145)(26)</span></span></code></pre>
<p>Thus we can see that
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>a</mi><annotation encoding="application/x-tex">a</annotation></semantics></math>
has a three-cycle
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="true" form="prefix">(</mo><mn>145</mn><mo stretchy="true" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(145)</annotation></semantics></math>
and a two-cycle
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="true" form="prefix">(</mo><mn>26</mn><mo stretchy="true" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(26)</annotation></semantics></math>.
We can express
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>a</mi><annotation encoding="application/x-tex">a</annotation></semantics></math>
in word form by changing the default print method which coerces to cycle
form:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span><span class="st">"print_word_as_cycle"</span> <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="op">(</span><span class="va">a</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/permutation.html">as.word</a></span><span class="op">(</span><span class="va">a</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##     1 2 3 4 5 6</span></span>
<span><span class="co">## [1] 4 6 . 5 1 2</span></span></code></pre>
<p>showing that 3 is a fixed point (indicated with a dot). In matrix
form we would have:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="true" form="prefix">(</mo><mtable><mtr><mtd columnalign="center" style="text-align: center"><mn>1</mn></mtd><mtd columnalign="center" style="text-align: center"><mn>2</mn></mtd><mtd columnalign="center" style="text-align: center"><mn>3</mn></mtd><mtd columnalign="center" style="text-align: center"><mn>4</mn></mtd><mtd columnalign="center" style="text-align: center"><mn>5</mn></mtd><mtd columnalign="center" style="text-align: center"><mn>6</mn></mtd></mtr><mtr><mtd columnalign="center" style="text-align: center"><mn>4</mn></mtd><mtd columnalign="center" style="text-align: center"><mn>6</mn></mtd><mtd columnalign="center" style="text-align: center"><mn>3</mn></mtd><mtd columnalign="center" style="text-align: center"><mn>5</mn></mtd><mtd columnalign="center" style="text-align: center"><mn>1</mn></mtd><mtd columnalign="center" style="text-align: center"><mn>2</mn></mtd></mtr></mtable><mo stretchy="true" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">
\left(
\begin{array}{ccccccccc}
1&amp;2&amp;3&amp;4&amp;5&amp;6\\
4&amp;6&amp;3&amp;5&amp;1&amp;2
\end{array}
\right)
</annotation></semantics></math></p>
<p>Expressed in functional notation, we have a function
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>:</mo><mrow><mo stretchy="true" form="prefix">[</mo><mn>6</mn><mo stretchy="true" form="postfix">]</mo></mrow><mo>→</mo><mrow><mo stretchy="true" form="prefix">[</mo><mn>6</mn><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">a\colon
[6]\rightarrow [6]</annotation></semantics></math> (here
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo stretchy="true" form="prefix">[</mo><mi>n</mi><mo stretchy="true" form="postfix">]</mo></mrow><mo>=</mo><mrow><mo stretchy="true" form="prefix">{</mo><mn>1</mn><mo>,</mo><mn>2</mn><mo>,</mo><mi>…</mi><mo>,</mo><mi>n</mi><mo stretchy="true" form="postfix">}</mo></mrow></mrow><annotation encoding="application/x-tex">[n]=\left\{1,2,\ldots,n\right\}</annotation></semantics></math>);
and we have
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mrow><mo stretchy="true" form="prefix">(</mo><mn>1</mn><mo stretchy="true" form="postfix">)</mo></mrow><mo>=</mo><mn>4</mn></mrow><annotation encoding="application/x-tex">a(1)=4</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mrow><mo stretchy="true" form="prefix">(</mo><mn>2</mn><mo stretchy="true" form="postfix">)</mo></mrow><mo>=</mo><mn>5</mn></mrow><annotation encoding="application/x-tex">a(2)=5</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mrow><mo stretchy="true" form="prefix">(</mo><mn>3</mn><mo stretchy="true" form="postfix">)</mo></mrow><mo>=</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">a(3)=3</annotation></semantics></math>,
and so on. If these were objects, or people, we might want to keep track
of where they are. We would say: “at the start, object
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>i</mi><annotation encoding="application/x-tex">i</annotation></semantics></math>
sits in place
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>i</mi><annotation encoding="application/x-tex">i</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>∈</mo><mrow><mo stretchy="true" form="prefix">[</mo><mn>6</mn><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">i\in[6]</annotation></semantics></math>.
Then, after the move, object 1 is in place 5, object 2 in place 6,
object 3 in place 3, and so on”. This information is encapsulated by
<code>as.word(a)</code>. In R matrix form we would have</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">a_active</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">6</span>, <span class="fu"><a href="../reference/permutation.html">as.word</a></span><span class="op">(</span><span class="va">a</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">a_active</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/c.html">c</a></span><span class="op">(</span><span class="st">"place before move"</span>, <span class="st">"place after move"</span><span class="op">)</span></span>
<span><span class="va">a_active</span></span></code></pre></div>
<pre><code><span><span class="co">##                   [,1] [,2] [,3] [,4] [,5] [,6]</span></span>
<span><span class="co">## place before move    1    2    3    4    5    6</span></span>
<span><span class="co">## place after move     4    6    3    5    1    2</span></span></code></pre>
<p>(in the above R chunk, note how the top row is <code>1:6</code>. We
give the objects persistent labels: each object is named according to
the place it sits in, before any moving). On the other hand, we might be
more interested in the <em>places</em>. We might want to know which
object is sitting in place 4. We would say: “at the start, object
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>i</mi><annotation encoding="application/x-tex">i</annotation></semantics></math>
sits in place
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>i</mi><annotation encoding="application/x-tex">i</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>∈</mo><mrow><mo stretchy="true" form="prefix">[</mo><mn>6</mn><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">i\in[6]</annotation></semantics></math>.
Then place 1 is occupied by object 4, place 2 occupied by object 5, and
so on”. This information is technically represented by permutation
<code>a</code> but in an obscure form. To answer the question “which
object is in place
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>i</mi><annotation encoding="application/x-tex">i</annotation></semantics></math>?”
in a convenient way, we need to rearrange the permutation:</p>
<p><span class="math display">$$
\left(
\begin{array}{ccccccccc}
1&amp;2&amp;3&amp;4&amp;5&amp;6\\
4&amp;6&amp;3&amp;5&amp;1&amp;2
\end{array}
\right)
{\mbox{swap rows}\atop\longrightarrow}
\left(
\begin{array}{ccccccccc}
4&amp;6&amp;3&amp;5&amp;1&amp;2\\
1&amp;2&amp;3&amp;4&amp;5&amp;6
\end{array}
\right){\mbox{shuffle columns}\atop\longrightarrow}
\left(
\begin{array}{ccccccccc}
1&amp;2&amp;3&amp;4&amp;5&amp;6\\
5&amp;6&amp;3&amp;1&amp;4&amp;2
\end{array}
\right)
$$</span></p>
<p>In the above, it is easy to see that the rearrangement of permutation
is equivalent to taking a group-theoretic inverse:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/inverse.html">inverse</a></span><span class="op">(</span><span class="va">a</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##     1 2 3 4 5 6</span></span>
<span><span class="co">## [1] 5 6 . 1 4 2</span></span></code></pre>
<p>(even now I find the R idiom for inversion to be unreasonably
elegant: <code>a[a] &lt;- seq_along(a)</code>). In R idiom, the two-row
matrix form would use <code><a href="../reference/inverse.html">inverse()</a></code>:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">a_passive</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">6</span>, <span class="fu"><a href="../reference/permutation.html">as.word</a></span><span class="op">(</span><span class="fu"><a href="../reference/inverse.html">inverse</a></span><span class="op">(</span><span class="va">a</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">a_passive</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/c.html">c</a></span><span class="op">(</span><span class="st">"place after move"</span>, <span class="st">"place before move"</span><span class="op">)</span></span>
<span><span class="va">a_passive</span></span></code></pre></div>
<pre><code><span><span class="co">##                   [,1] [,2] [,3] [,4] [,5] [,6]</span></span>
<span><span class="co">## place after move     1    2    3    4    5    6</span></span>
<span><span class="co">## place before move    5    6    3    1    4    2</span></span></code></pre>
<p>(in the above R chunk, note how the top row—the <em>place</em> an
object sits in after the move, is <code>1:6</code>). Thus from the first
column we see that the object currently in place 1 was originally in
place 5. If the people subsequently move again, the mathematics and the
R idiom depend on whether we are interested in people, or places. We
need to specify use of <em>active</em> or <em>passive</em>
transformations, much as in the Lorentz package.</p>
<div class="section level4">
<h4 id="active-permutations">Active permutations<a class="anchor" aria-label="anchor" href="#active-permutations"></a>
</h4>
<p>An active permutation
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>π</mi><annotation encoding="application/x-tex">\pi</annotation></semantics></math>
moves an object from place
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>i</mi><annotation encoding="application/x-tex">i</annotation></semantics></math>
to place
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>π</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>i</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">\pi(i)</annotation></semantics></math>.
Textbooks and undergraduate courses usually use this system, and is used
above.</p>
</div>
<div class="section level4">
<h4 id="passive-permutations">Passive permutations<a class="anchor" aria-label="anchor" href="#passive-permutations"></a>
</h4>
<p>A passive permutation
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>π</mi><annotation encoding="application/x-tex">\pi</annotation></semantics></math>
replaces an object in position
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>i</mi><annotation encoding="application/x-tex">i</annotation></semantics></math>
by that in position
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>π</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>i</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">\pi(i)</annotation></semantics></math>.</p>
</div>
<div class="section level3">
<h3 id="composition-of-active-permutations">Composition of active permutations<a class="anchor" aria-label="anchor" href="#composition-of-active-permutations"></a>
</h3>
<p>Suppose we have (active) permutation <code>a</code> as above, and
another active permutation <code>b</code>:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">b</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/permutation.html">as.word</a></span><span class="op">(</span><span class="fu"><a href="../reference/c.html">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">6</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">b</span></span></code></pre></div>
<pre><code><span><span class="co">##     1 2 3 4 5 6</span></span>
<span><span class="co">## [1] 5 . . . 6 1</span></span></code></pre>
<p>(note the three dots representing three fixed points of
<code>b</code>). Note carefully that the operations
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>a</mi><annotation encoding="application/x-tex">a</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>b</mi><annotation encoding="application/x-tex">b</annotation></semantics></math>
do not commute and we will discuss this in the context of active and
passive transforms. What is the result of executing
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>a</mi><annotation encoding="application/x-tex">a</annotation></semantics></math>,
followed by
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>b</mi><annotation encoding="application/x-tex">b</annotation></semantics></math>?
Symbolically we have:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover><mover><mrow><mo stretchy="true" form="prefix">(</mo><mtable><mtr><mtd columnalign="center" style="text-align: center"><mn>1</mn></mtd><mtd columnalign="center" style="text-align: center"><mn>2</mn></mtd><mtd columnalign="center" style="text-align: center"><mn>3</mn></mtd><mtd columnalign="center" style="text-align: center"><mn>4</mn></mtd><mtd columnalign="center" style="text-align: center"><mn>5</mn></mtd><mtd columnalign="center" style="text-align: center"><mn>6</mn></mtd></mtr><mtr><mtd columnalign="center" style="text-align: center"><mn>4</mn></mtd><mtd columnalign="center" style="text-align: center"><mn>6</mn></mtd><mtd columnalign="center" style="text-align: center"><mn>3</mn></mtd><mtd columnalign="center" style="text-align: center"><mn>5</mn></mtd><mtd columnalign="center" style="text-align: center"><mn>1</mn></mtd><mtd columnalign="center" style="text-align: center"><mn>2</mn></mtd></mtr></mtable><mo stretchy="true" form="postfix">)</mo></mrow><mo accent="true">⏞</mo></mover><mi>a</mi></mover><mo>∘</mo><mover><mover><mrow><mo stretchy="true" form="prefix">(</mo><mtable><mtr><mtd columnalign="center" style="text-align: center"><mn>1</mn></mtd><mtd columnalign="center" style="text-align: center"><mn>2</mn></mtd><mtd columnalign="center" style="text-align: center"><mn>3</mn></mtd><mtd columnalign="center" style="text-align: center"><mn>4</mn></mtd><mtd columnalign="center" style="text-align: center"><mn>5</mn></mtd><mtd columnalign="center" style="text-align: center"><mn>6</mn></mtd></mtr><mtr><mtd columnalign="center" style="text-align: center"><mn>5</mn></mtd><mtd columnalign="center" style="text-align: center"><mn>2</mn></mtd><mtd columnalign="center" style="text-align: center"><mn>3</mn></mtd><mtd columnalign="center" style="text-align: center"><mn>4</mn></mtd><mtd columnalign="center" style="text-align: center"><mn>6</mn></mtd><mtd columnalign="center" style="text-align: center"><mn>1</mn></mtd></mtr><mtr><mtd columnalign="center" style="text-align: center"></mtd></mtr></mtable><mo stretchy="true" form="postfix">)</mo></mrow><mo accent="true">⏞</mo></mover><mi>b</mi></mover><mo>=</mo><mover><mover><mrow><mo stretchy="true" form="prefix">(</mo><mtable><mtr><mtd columnalign="center" style="text-align: center"><mn>1</mn></mtd><mtd columnalign="center" style="text-align: center"><mn>2</mn></mtd><mtd columnalign="center" style="text-align: center"><mn>3</mn></mtd><mtd columnalign="center" style="text-align: center"><mn>4</mn></mtd><mtd columnalign="center" style="text-align: center"><mn>5</mn></mtd><mtd columnalign="center" style="text-align: center"><mn>6</mn></mtd></mtr><mtr><mtd columnalign="center" style="text-align: center"><mn>4</mn></mtd><mtd columnalign="center" style="text-align: center"><mn>1</mn></mtd><mtd columnalign="center" style="text-align: center"><mn>3</mn></mtd><mtd columnalign="center" style="text-align: center"><mn>6</mn></mtd><mtd columnalign="center" style="text-align: center"><mn>5</mn></mtd><mtd columnalign="center" style="text-align: center"><mn>2</mn></mtd></mtr><mtr><mtd columnalign="center" style="text-align: center"></mtd></mtr></mtable><mo stretchy="true" form="postfix">)</mo></mrow><mo accent="true">⏞</mo></mover><mrow><mi>a</mi><mo>∘</mo><mi>b</mi></mrow></mover></mrow><annotation encoding="application/x-tex">
\overbrace{
\left(
\begin{array}{ccccccccc}
1&amp;2&amp;3&amp;4&amp;5&amp;6\\
4&amp;6&amp;3&amp;5&amp;1&amp;2
\end{array}
\right)
}^{a}
\circ
\overbrace{
\left(
\begin{array}{ccccccccc}
1&amp;2&amp;3&amp;4&amp;5&amp;6\\
5&amp;2&amp;3&amp;4&amp;6&amp;1\\
\end{array}
\right)
}^{b}=
\overbrace{
\left(
\begin{array}{ccccccccc}
1&amp;2&amp;3&amp;4&amp;5&amp;6\\
4&amp;1&amp;3&amp;6&amp;5&amp;2\\
\end{array}
\right)
}^{a\circ b}
</annotation></semantics></math></p>
<p>Thus, for example,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mo>→</mo><mn>5</mn><mo>→</mo><mn>6</mn></mrow><annotation encoding="application/x-tex">4\longrightarrow 5\longrightarrow 6</annotation></semantics></math>.
Considering the operation
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>∘</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">a\circ b</annotation></semantics></math>,
this means that we perform permutation <code>a</code> first, and then
perform permutation <code>b</code>. Taking this one step at a time we
would have, for example: “the person in place 4 (this is object 4) moves
to place 5 (but is still object 4)
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>…</mi><annotation encoding="application/x-tex">\ldots</annotation></semantics></math>
and then the object in place 5 (this is still object 4) moves to place
6”. See how we track the object that started in place 4 (that is, object
4) over two permutations, and so overall object 4 ends up in place 6. We
see this on the right hand side: the fourth column of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>∘</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">a\circ b</annotation></semantics></math>
is
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="true" form="prefix">(</mo><mtable><mtr><mtd columnalign="center" style="text-align: center"><mn>4</mn></mtd></mtr><mtr><mtd columnalign="center" style="text-align: center"><mn>6</mn></mtd></mtr></mtable><mo stretchy="true" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">\left(\begin{array}{c}4\\6\end{array}\right)</annotation></semantics></math>.
If we execute <code>a</code> and then <code>b</code> using active
language [explicitly: express <code>a</code> and <code>b</code> as
active permutations, and express the result of performing <code>a</code>
then <code>b</code> in active language], we can use standard permutation
composition, in R idiom the <code>*</code> operator:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">a</span> <span class="op">*</span> <span class="va">b</span></span></code></pre></div>
<pre><code><span><span class="co">##     1 2 3 4 5 6</span></span>
<span><span class="co">## [1] 4 1 . 6 . 2</span></span></code></pre>
<p>The <code>*</code> operator in R idiom is essentially carries out
<code>b[a]</code> to evaluate <code>a*b</code> (which is why indexing
starts at 1, not 0). Indeed we may verify that package idiom operates as
expected:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/vector.html" class="external-link">as.vector</a></span><span class="op">(</span><span class="va">b</span><span class="op">)</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/vector.html" class="external-link">as.vector</a></span><span class="op">(</span><span class="va">a</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 4 1 3 6 5 2</span></span></code></pre>
<p>showing agreement. With functional notation (also known as prefix
notation) we can ask what happens to the object originally in place 1
(that would be object 1)</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fa</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/as.function.permutation.html">as.function</a></span><span class="op">(</span><span class="va">a</span><span class="op">)</span></span>
<span><span class="va">fb</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/as.function.permutation.html">as.function</a></span><span class="op">(</span><span class="va">b</span><span class="op">)</span></span>
<span><span class="fu">fb</span><span class="op">(</span><span class="fu">fa</span><span class="op">(</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 4</span></span></code></pre>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/as.function.permutation.html">as.function</a></span><span class="op">(</span><span class="va">a</span> <span class="op">*</span> <span class="va">b</span><span class="op">)</span><span class="op">(</span><span class="fl">1</span><span class="op">)</span> <span class="co"># should match fb(fa(1))</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 4</span></span></code></pre>
<p>Note, however, the confusing order of operations: in functional
notation, if we want to operate on an element
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>x</mi><annotation encoding="application/x-tex">x</annotation></semantics></math>
by function
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>f</mi><annotation encoding="application/x-tex">f</annotation></semantics></math>
and then by function
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>g</mi><annotation encoding="application/x-tex">g</annotation></semantics></math>
we write
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>f</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>x</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">g(f(x))</annotation></semantics></math>
for the two successive mappings
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>→</mo><mi>f</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>x</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>→</mo><mi>g</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>f</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>x</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">x\longrightarrow f(x)\longrightarrow g(f(x))</annotation></semantics></math>.
Postfix notation would denote the same process as
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mi>f</mi><mi>g</mi></mrow><annotation encoding="application/x-tex">xfg</annotation></semantics></math>,
as shorthand for
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo stretchy="true" form="prefix">(</mo><mi>x</mi><mi>f</mi><mo stretchy="true" form="postfix">)</mo></mrow><mi>g</mi></mrow><annotation encoding="application/x-tex">(xf)g</annotation></semantics></math>.
In R idiom, this is implemented by the excellent <code>magrittr</code>
package:</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fl">1</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">fa</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">fb</span><span class="op">(</span><span class="op">)</span> <span class="co"># idiom for fb(fa(1)), should match result above</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 4</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="composition-of-passive-permutations">Composition of passive permutations<a class="anchor" aria-label="anchor" href="#composition-of-passive-permutations"></a>
</h2>
<p>Now we consider the same operations <code>a</code> and <code>b</code>
as discussed above, and perform <code>a</code> and then <code>b</code>.
But this time we express the permutations, and their composition, in
passive form, and this requires some modification. First we will express
<code>a</code> and <code>b</code> in passive matrix form which we will
call <code>a_passive</code> and <code>b_passive</code>:</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">a</span> <span class="co"># word form</span></span></code></pre></div>
<pre><code><span><span class="co">##     1 2 3 4 5 6</span></span>
<span><span class="co">## [1] 4 6 . 5 1 2</span></span></code></pre>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">a_active</span> <span class="co"># matrix form (active)</span></span></code></pre></div>
<pre><code><span><span class="co">##                   [,1] [,2] [,3] [,4] [,5] [,6]</span></span>
<span><span class="co">## place before move    1    2    3    4    5    6</span></span>
<span><span class="co">## place after move     4    6    3    5    1    2</span></span></code></pre>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">a_passive</span> <span class="co"># matrix form (passive)</span></span></code></pre></div>
<pre><code><span><span class="co">##                   [,1] [,2] [,3] [,4] [,5] [,6]</span></span>
<span><span class="co">## place after move     1    2    3    4    5    6</span></span>
<span><span class="co">## place before move    5    6    3    1    4    2</span></span></code></pre>
<p>and then <code>b</code>, but we need to create equivalents
<code>b_active</code> and <code>b_passive</code> which we do as
before:</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">b</span></span></code></pre></div>
<pre><code><span><span class="co">##     1 2 3 4 5 6</span></span>
<span><span class="co">## [1] 5 . . . 6 1</span></span></code></pre>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">b_active</span></span></code></pre></div>
<pre><code><span><span class="co">##                   [,1] [,2] [,3] [,4] [,5] [,6]</span></span>
<span><span class="co">## place before move    1    2    3    4    5    6</span></span>
<span><span class="co">## place after move     5    2    3    4    6    1</span></span></code></pre>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">b_passive</span></span></code></pre></div>
<pre><code><span><span class="co">##                   [,1] [,2] [,3] [,4] [,5] [,6]</span></span>
<span><span class="co">## place after move     1    2    3    4    5    6</span></span>
<span><span class="co">## place before move    6    2    3    4    1    5</span></span></code></pre>
<p>(note again the relationship between <code>b_active</code> and
<code>b_passive</code>). We want to perform <code>a</code> and then
<code>b</code> as before, but this time we want to use matrices
<code>a_passive</code> and <code>b_passive</code>:</p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">a_passive</span></span></code></pre></div>
<pre><code><span><span class="co">##                   [,1] [,2] [,3] [,4] [,5] [,6]</span></span>
<span><span class="co">## place after move     1    2    3    4    5    6</span></span>
<span><span class="co">## place before move    5    6    3    1    4    2</span></span></code></pre>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">b_passive</span></span></code></pre></div>
<pre><code><span><span class="co">##                   [,1] [,2] [,3] [,4] [,5] [,6]</span></span>
<span><span class="co">## place after move     1    2    3    4    5    6</span></span>
<span><span class="co">## place before move    6    2    3    4    1    5</span></span></code></pre>
<p>To work out the composition of <code>a_passive</code> and
<code>b_passive</code> [explicitly: give the passive transform
corresponding to performing <code>a_passive</code> first, and then
<code>b_passive</code> second] we want a passive transformation, that
is, a matrix with the same row labels as, say <code>a_passive</code> and
first row <code>1:6</code>. Let us call the result of these two
permutations <code>ab_passive</code>. Given that
<code>ab_passive[1,1]=1</code>, we ask “what is
<code>ab_passive[2,1]</code>? This is equivalent to asking,”we have just
performed permutation <code>a</code> followed by <code>b</code>. The
object currently in place 1: where was it before this composition of
permutations?”</p>
<p>To figure out which object is in place 1, we would look at
<code>b_passive</code>, being the most recent operation. We would then
look at the first column of <code>b_passive</code> and say that the
object that was in place 6 was moved by <code>b_passive</code> to place
1. And then you would have to figure out which object was in place 6
before <code>b_passive</code> was executed. To answer <em>that</em>, you
would look at <code>a_passive</code> and see, from column 6 of
<code>a_passive</code> that the object in place 6 was moved from place 2
by <code>a</code>. Thus the passive transform <code>ab_passive</code>
indicates that the object in place 1 after the move was in place 2
before the move. We would have
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>→</mo><mn>6</mn><mo>→</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">1\longrightarrow 6\longrightarrow 2</annotation></semantics></math>
where in this case
“<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mo>→</mo><annotation encoding="application/x-tex">\longrightarrow</annotation></semantics></math>”
means “comes from”.</p>
<p>We can thus represent the passive transformation by
<code>b_passive*a_passive</code>: see how the R idiom for permutation
composition “<code>*</code>” is used in exactly the same way for active
and passive permutations, but with a different meaning which requires us
to reverse the order of permutations. To express the result,
<code>ab_passive</code> in active language we need to take the
group-theoretic inverse of the composition. Recalling that passive
transforms are the group-theoretic inverses of the same active
transformation, in algebraic notation we would have</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mrow><mo stretchy="true" form="prefix">(</mo><msup><mi>a</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><msup><mi>b</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo stretchy="true" form="postfix">)</mo></mrow><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo>=</mo><mi>a</mi><mi>b</mi><mo>;</mo><mspace width="2.0em"></mspace><msup><mi>a</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><msup><mi>b</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo>=</mo><msup><mrow><mo stretchy="true" form="prefix">(</mo><mi>a</mi><mi>b</mi><mo stretchy="true" form="postfix">)</mo></mrow><mrow><mo>−</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">
\left(a^{-1}b^{-1}\right)^{-1}=ab;\qquad
a^{-1}b^{-1}=\left(ab\right)^{-1}
</annotation></semantics></math></p>
<p>and in R idiom we would have</p>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/inverse.html">inverse</a></span><span class="op">(</span><span class="fu"><a href="../reference/inverse.html">inverse</a></span><span class="op">(</span><span class="va">b</span><span class="op">)</span> <span class="op">*</span> <span class="fu"><a href="../reference/inverse.html">inverse</a></span><span class="op">(</span><span class="va">a</span><span class="op">)</span><span class="op">)</span> <span class="op">==</span> <span class="va">a</span> <span class="op">*</span> <span class="va">b</span> <span class="co"># both should be TRUE</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] TRUE</span></span></code></pre>
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/inverse.html">inverse</a></span><span class="op">(</span><span class="va">b</span><span class="op">)</span> <span class="op">*</span> <span class="fu"><a href="../reference/inverse.html">inverse</a></span><span class="op">(</span><span class="va">a</span><span class="op">)</span> <span class="op">==</span> <span class="fu"><a href="../reference/inverse.html">inverse</a></span><span class="op">(</span><span class="va">a</span> <span class="op">*</span> <span class="va">b</span><span class="op">)</span> <span class="co"># note b precedes a on LHS</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] TRUE</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="permutation-matrices">Permutation matrices<a class="anchor" aria-label="anchor" href="#permutation-matrices"></a>
</h2>
<p>Now we will show how permutation matrices work and how they deal with
active and passive language.</p>
<div class="sourceCode" id="cb43"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">g</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/permutation.html">as.cycle</a></span><span class="op">(</span><span class="fu"><a href="../reference/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">6</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">g</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] (126)</span></span></code></pre>
<p>Then we can express <code>g</code> in terms of permutation
matrices:</p>
<div class="sourceCode" id="cb45"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pg</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/perm_matrix.html">perm_matrix</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span></span>
<span><span class="va">pg</span></span></code></pre></div>
<pre><code><span><span class="co">##   1 2 3 4 5 6</span></span>
<span><span class="co">## 1 0 1 0 0 0 0</span></span>
<span><span class="co">## 2 0 0 0 0 0 1</span></span>
<span><span class="co">## 3 0 0 1 0 0 0</span></span>
<span><span class="co">## 4 0 0 0 1 0 0</span></span>
<span><span class="co">## 5 0 0 0 0 1 0</span></span>
<span><span class="co">## 6 1 0 0 0 0 0</span></span></code></pre>
<p>But it is convenient to relabel the rows and the columns:</p>
<div class="sourceCode" id="cb47"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/dimnames.html" class="external-link">dimnames</a></span><span class="op">(</span><span class="va">pg</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>place_before_move <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">6</span>, place_after_move <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">6</span><span class="op">)</span></span>
<span><span class="va">pg</span></span></code></pre></div>
<pre><code><span><span class="co">##                  place_after_move</span></span>
<span><span class="co">## place_before_move 1 2 3 4 5 6</span></span>
<span><span class="co">##                 1 0 1 0 0 0 0</span></span>
<span><span class="co">##                 2 0 0 0 0 0 1</span></span>
<span><span class="co">##                 3 0 0 1 0 0 0</span></span>
<span><span class="co">##                 4 0 0 0 1 0 0</span></span>
<span><span class="co">##                 5 0 0 0 0 1 0</span></span>
<span><span class="co">##                 6 1 0 0 0 0 0</span></span></code></pre>
<p>Row <code>n</code> of matrix <code>pg</code> shows where the object
that was in place <code>n</code> before the move ends up. Thus, looking
at the top row (row 1), we see that the object that was in place 1 is
now in place 2 [because the second column of row 1 is nonzero]. The
second row (row 2) shows that the object that was in place 2 is now in
place 6, the object that was in place 3 is now in place 6, and so on.
This is active language.</p>
<p>We can see that taking the transpose is equivalent to inverting the
matrix: a permutation matrix is orthogonal. Now we can consider a second
permutation <code>h</code> and convert it to matrix form:</p>
<div class="sourceCode" id="cb49"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">h</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/permutation.html">as.word</a></span><span class="op">(</span><span class="fu"><a href="../reference/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">5</span>, <span class="fl">2</span>, <span class="fl">6</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">h</span></span></code></pre></div>
<pre><code><span><span class="co">##     1 2 3 4 5 6</span></span>
<span><span class="co">## [1] . 3 4 5 2 .</span></span></code></pre>
<div class="sourceCode" id="cb51"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ph</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/perm_matrix.html">perm_matrix</a></span><span class="op">(</span><span class="va">h</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dimnames.html" class="external-link">dimnames</a></span><span class="op">(</span><span class="va">ph</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>place_before_move <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">6</span>, place_after_move <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">6</span><span class="op">)</span></span>
<span><span class="va">ph</span></span></code></pre></div>
<pre><code><span><span class="co">##                  place_after_move</span></span>
<span><span class="co">## place_before_move 1 2 3 4 5 6</span></span>
<span><span class="co">##                 1 1 0 0 0 0 0</span></span>
<span><span class="co">##                 2 0 0 1 0 0 0</span></span>
<span><span class="co">##                 3 0 0 0 1 0 0</span></span>
<span><span class="co">##                 4 0 0 0 0 1 0</span></span>
<span><span class="co">##                 5 0 1 0 0 0 0</span></span>
<span><span class="co">##                 6 0 0 0 0 0 1</span></span></code></pre>
<p>We now consider what happens with successive permutations, as above,
but this time using permutation matrices. We will permute first with
<code>g</code> and then with <code>h</code>, using matrix
multiplication.</p>
<div class="sourceCode" id="cb53"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pg</span> <span class="op"><a href="https://rdrr.io/r/base/matmult.html" class="external-link">%*%</a></span> <span class="va">ph</span></span></code></pre></div>
<pre><code><span><span class="co">##                  place_after_move</span></span>
<span><span class="co">## place_before_move 1 2 3 4 5 6</span></span>
<span><span class="co">##                 1 0 0 1 0 0 0</span></span>
<span><span class="co">##                 2 0 0 0 0 0 1</span></span>
<span><span class="co">##                 3 0 0 0 1 0 0</span></span>
<span><span class="co">##                 4 0 0 0 0 1 0</span></span>
<span><span class="co">##                 5 0 1 0 0 0 0</span></span>
<span><span class="co">##                 6 1 0 0 0 0 0</span></span></code></pre>
<pre><code> pg                                  ph                                  pg %*% ph
                  place_after_move                    place_after_move                    place_after_move
 place_before_move 1 2 3 4 5 6       place_before_move 1 2 3 4 5 6       place_before_move 1 2 3 4 5 6
                 1 0 1 0 0 0 0                       1 1 0 0 0 0 0                       1 0 0 1 0 0 0
                 2 0 0 0 0 0 1                       2 0 0 1 0 0 0                       2 0 0 0 0 0 1
                 3 0 0 1 0 0 0                       3 0 0 0 1 0 0                       3 0 0 0 1 0 0
                 4 0 0 0 1 0 0                       4 0 0 0 0 1 0                       4 0 0 0 0 1 0
                 5 0 0 0 0 1 0                       5 0 1 0 0 0 0                       5 0 1 0 0 0 0
                 6 1 0 0 0 0 0                       6 0 0 0 0 0 1                       6 1 0 0 0 0 0</code></pre>
<p>(the above is hand-edited to put the matrices side-by-side). Let us
consider the top row of <code>pg</code>. This multiplies by each column
of <code>ph</code> but the only nonzero term is with column 3 of
<code>ph</code> which has row 2 nonzero. Thus
<code>(pg%*%ph)[1,3]==1</code>. The process is, symbolically,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>→</mo><mn>2</mn><mo>→</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">1\longrightarrow 2\longrightarrow 3</annotation></semantics></math>.</p>
<div class="section level4">
<h4 id="passive-language-for-permutation-matrices">Passive language for permutation matrices<a class="anchor" aria-label="anchor" href="#passive-language-for-permutation-matrices"></a>
</h4>
<p>Alternatively, we could look at matrix <code>pg</code> in terms of
columns. Column <code>n</code> of this matrix shows where the object
that ended up in place <code>n</code> came from. Thus, looking at column
1, we see that the object that ended up in column 1 came from place 6,
and the object that ended up in place 2 came from place 1, and so on.
This is passive language.</p>
<p>Thus the passive matrix is the <em>transpose</em> of the active
matrix (we could see this by swapping the dimension names). Now we use
the matrix rule</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mi>B</mi><mo>=</mo><mrow><mo stretchy="true" form="prefix">(</mo><mi>B</mi><mi>′</mi><mi>A</mi><mi>′</mi><mo stretchy="true" form="postfix">)</mo></mrow><mi>′</mi></mrow><annotation encoding="application/x-tex">
AB=(B'A')'
</annotation></semantics></math></p>
<p>to show that permutation matrix multiplication has to be in the
opposite order for passive matrices. Of course, we could observe that
permutation matrices are orthogonal and use</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mi>B</mi><mo>=</mo><msup><mrow><mo stretchy="true" form="prefix">(</mo><msup><mi>B</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><msup><mi>A</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo stretchy="true" form="postfix">)</mo></mrow><mrow><mo>−</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">
AB=\left(B^{-1}A^{-1}\right)^{-1}
</annotation></semantics></math></p>
<p>instead.</p>
</div>
</div>
<div class="section level2">
<h2 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div id="ref-hankin2020" class="csl-entry">
Hankin, R. K. S. 2020. <span>“Introducing the Permutations
<span>R</span> Package.”</span> <em>SoftwareX</em> 11. <a href="https://doi.org/10.1016/j.softx.2020.100453" class="external-link">https://doi.org/10.1016/j.softx.2020.100453</a>.
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Robin K. S. Hankin.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
